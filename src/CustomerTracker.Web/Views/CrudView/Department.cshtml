@{
    ViewBag.Title = "ManageDepartment";
}
<script src="~/Scripts/domain/department/departmentFactory.js"></script>
<script src="~/Scripts/domain/department/departmentController.js"></script>
<div ng-controller="departmentController" ng-cloak>

    <div class="col-lg-12">
        <table class="table table-striped table-bordered table-condensed table-hover">
            <tr>
              <th style="width: 75px;">
                    <div class="btn-toolbar"><i class="btn glyphicon glyphicon-plus" ng-click="toggleAddMode()"></i></div>
                </th>

                <th>Name</th>
            </tr>
            <tr ng-show="addMode">
                <td>
                    <div class="btn-toolbar">
                        <div class="btn-group">
                            <i class="btn glyphicon glyphicon-save" ng-click="addDepartment()"></i>
                            <i class="btn glyphicon glyphicon-remove" ng-click="toggleAddMode()"></i>
                        </div>
                    </div>
                </td> 
                <td>
                    <input ng-model="department.Name" />
                </td>
            </tr>
            <tr ng-repeat="department in departments | orderBy:'Id':false">
                <td>
                    <div class="btn-toolbar" ng-show="department.editMode == null || department.editMode == false">
                        <div class="btn-group">
                            <i class="btn glyphicon glyphicon-edit" ng-click="toggleEditMode(department)"></i>
                            <i class="btn glyphicon glyphicon-trash" ng-click="deleteDepartment(department)"></i>
                        </div>
                    </div>
                    <div class="btn-toolbar" ng-show="department.editMode == true">
                        <div class="btn-group">
                            <i class="btn glyphicon glyphicon-save" ng-click="updateDepartment(department)"></i>
                            <i class="btn glyphicon glyphicon-remove" ng-click="toggleEditMode(department)"></i>
                        </div>
                    </div>
                </td>

                <td>
                    <span ng-show="department.editMode == null || department.editMode == false">{{department.Name}}</span>
                    <input ng-model="department.Name" ng-show="department.editMode == true" />
                </td>
            </tr>
        </table>
    </div>
</div>
