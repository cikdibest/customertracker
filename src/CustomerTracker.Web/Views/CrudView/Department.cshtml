@{
    ViewBag.Title = "ManageDepartment";
}

<div ng-controller="departmentController" ng-cloak>

    <div style="width: 500px;">
        <table class="table table-striped table-bordered table-condensed table-hover">
            <tr>
                <th style="width: 100px;">
                    <div class="btn-toolbar"><i class="btn glyphicon glyphicon-plus" ng-click="toggleAddMode()"></i></div>
                </th>
                <th style="width: 50px;">Id</th>
                <th>Name</th>
            </tr>
            <tr ng-show="addMode">
                <td>
                    <div class="btn-toolbar">
                        <div class="btn-group">
                            <i class="btn glyphicon glyphicon-save" ng-click="addDepartment()"></i>
                            <i class="btn glyphicon glyphicon-remove" ng-click="toggleAddMode()"></i>
                        </div>
                    </div>
                </td>
                <td></td>
                <td>
                    <input ng-model="department.Name" /></td>
            </tr>
            <tr ng-repeat="department in departments | orderBy:'Id':true">
                <td>
                    <div class="btn-toolbar" ng-show="department.editMode == null || department.editMode == false">
                        <div class="btn-group">
                            <i class="btn glyphicon glyphicon-edit" ng-click="toggleEditMode(department)"></i>
                            <i class="btn glyphicon glyphicon-trash" ng-click="deleteDepartment(department)"></i>
                        </div>
                    </div>
                    <div class="btn-toolbar" ng-show="department.editMode == true">
                        <div class="btn-group">
                            <i class="btn glyphicon glyphicon-save" ng-click="updateDepartment(department)"></i>
                            <i class="btn glyphicon glyphicon-remove" ng-click="toggleEditMode(department)"></i>
                        </div>
                    </div>
                </td>
                <td>{{department.Id}}</td>
                <td>
                    <span ng-show="department.editMode == null || department.editMode == false">{{department.Name}}</span>
                    <input ng-model="department.Name" ng-show="department.editMode == true" />
                </td>
            </tr>
        </table>
    </div>
</div>
