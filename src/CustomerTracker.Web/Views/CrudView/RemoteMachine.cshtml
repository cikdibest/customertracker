@{
    ViewBag.Title = "Manage Remote Machine";
}
<script src="~/Scripts/domain/remoteMachine/remoteMachineFactory.js"></script>
<script src="~/Scripts/domain/remoteMachine/remoteMachineController.js"></script>
<div ng-controller="remoteMachineController" ng-cloak>
 
    <div ng-controller="paginationController">

        <pagination total-items="totalCount" ng-model="currentPageNumber" max-size="pageSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="numPages" ng-change="pageChanged()"></pagination>
        <pre>Page: {{currentPageNumber}} / {{numPages}}</pre>
    </div>
    <div class="col-lg-8">
        <table class="table table-striped table-bordered table-condensed table-hover">
            <tr>
                <th style="width: 75px;">
                    <div class="btn-toolbar"><i class="btn glyphicon glyphicon-plus" ng-click="toggleAddMode()"></i></div>
                </th>

                <th>Customer</th>
                <th>Remote Connection Type</th>
                <th>Name</th>
                <th>Remote Adress</th>
                <th>User Name</th>
                <th>Password</th>
                <th style="width: 350px">Explanation</th>
            </tr>
            <tr ng-show="addMode">
                <td>
                    <div class="btn-toolbar">
                        <div class="btn-group">
                            <i class="btn glyphicon glyphicon-save" ng-click="addRemoteMachine()"></i>
                            <i class="btn glyphicon glyphicon-remove" ng-click="toggleAddMode()"></i>
                        </div>
                    </div>
                </td>
                <td>
                    <select ng-model="remoteMachine.CustomerId" ng-options="customer.Id as customer.Title for customer in customers"></select>
                </td>
                <td>
                    <select ng-model="remoteMachine.RemoteConnectionTypeId" ng-options="remoteConnectionType.Key as remoteConnectionType.Value for remoteConnectionType in remoteConnectionTypes"></select>
                </td>
                <td>
                    <input ng-model="remoteMachine.Name" class="col-md-12" />
                </td>
                <td>
                    <input ng-model="remoteMachine.RemoteAddress" class="col-md-12" />
                </td>
                <td>
                    <input ng-model="remoteMachine.Username" class="col-md-12" />
                </td>
                <td>
                    <input ng-model="remoteMachine.Password" class="col-md-12" />
                </td>
                <td>
                    <input ng-model="remoteMachine.Explanation" class="col-md-12" />
                </td>
            </tr>  
            <tr ng-repeat="remoteMachine in remoteMachines | orderBy:'Id':true">
                <td>
                    <div class="btn-toolbar" ng-show="remoteMachine.editMode == null || remoteMachine.editMode == false">
                        <div class="btn-group">
                            <i class="btn glyphicon glyphicon-edit" ng-click="toggleEditMode(remoteMachine)"></i>
                            <i class="btn glyphicon glyphicon-trash" ng-click="deleteRemoteMachine(remoteMachine)"></i>
                        </div>
                    </div>
                    <div class="btn-toolbar" ng-show="remoteMachine.editMode == true">
                        <div class="btn-group">
                            <i class="btn glyphicon glyphicon-save" ng-click="updateRemoteMachine(remoteMachine)"></i>
                            <i class="btn glyphicon glyphicon-remove" ng-click="toggleEditMode(remoteMachine)"></i>
                        </div>
                    </div>
                </td>

                <td>
                    <span ng-show="remoteMachine.editMode == null || remoteMachine.editMode == false">{{remoteMachine.Customer.Title}}</span>
                    <select ng-model="remoteMachine.CustomerId" ng-options="customer.Id as customer.Title for customer in customers" ng-show="remoteMachine.editMode == true"></select>
                </td>
                <td> 
                    <span ng-show="remoteMachine.editMode == null || remoteMachine.editMode == false">{{remoteMachine.RemoteConnectionTypeName}}</span>
                    <select ng-model="remoteMachine.RemoteConnectionTypeId" ng-options="remoteConnectionType.Key as remoteConnectionType.Value for remoteConnectionType in remoteConnectionTypes" ng-show="remoteMachine.editMode == true"></select>
                </td>
                <td>
                    <span ng-show="remoteMachine.editMode == null || remoteMachine.editMode == false">{{remoteMachine.Name}}</span>
                    <input ng-model="remoteMachine.Name" ng-show="remoteMachine.editMode == true" class="col-md-12" />
                </td>
                <td>
                    <span ng-show="remoteMachine.editMode == null || remoteMachine.editMode == false">{{remoteMachine.RemoteAddress}}</span>
                    <input ng-model="remoteMachine.RemoteAddress" ng-show="remoteMachine.editMode == true" class="col-md-12" />
                </td>
                <td>
                    <span ng-show="remoteMachine.editMode == null || remoteMachine.editMode == false">{{remoteMachine.Username}}</span>
                    <input ng-model="remoteMachine.Username" ng-show="remoteMachine.editMode == true" class="col-md-12" />
                </td>
                <td>
                    <span ng-show="remoteMachine.editMode == null || remoteMachine.editMode == false">{{remoteMachine.Password}}</span>
                    <input ng-model="remoteMachine.Password" ng-show="remoteMachine.editMode == true" class="col-md-12" />
                </td>
                <td>
                    <span ng-show="remoteMachine.editMode == null || remoteMachine.editMode == false">{{remoteMachine.Explanation}}</span>
                    <textarea ng-model="remoteMachine.Explanation" ng-show="remoteMachine.editMode == true" class="col-md-12" />
                </td>
            </tr>
        </table>

    </div>
</div>
