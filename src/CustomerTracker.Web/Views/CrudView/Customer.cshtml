@{
    ViewBag.Title = "ManageCustomer";
}

<div ng-controller="customerController" ng-cloak>
    <div class="col-lg-8">
        <table class="table table-striped table-bordered table-condensed table-hover">
            <tr>
                <th style="width: 75px;">
                    <div class="btn-toolbar"><i class="btn glyphicon glyphicon-plus" ng-click="toggleAddMode()"></i></div>
                </th>

                <th>Name</th>
                <th>City</th>
                <th style="width: 350px">Explanation</th>
            </tr>
            <tr ng-show="addMode">
                <td>
                    <div class="btn-toolbar">
                        <div class="btn-group">
                            <i class="btn glyphicon glyphicon-save" ng-click="addCustomer()"></i>
                            <i class="btn glyphicon glyphicon-remove" ng-click="toggleAddMode()"></i>
                        </div>
                    </div>
                </td>
                <td>
                    <input ng-model="customer.Title" class="col-md-12" />
                </td>
                <td>
                    <select ng-model="customer.CityId" ng-options="city.Id as city.Name for city in cities"></select>
                </td>
                <td>
                    <input ng-model="customer.Explanation" class="col-md-12" />
                </td>
            </tr>
            <tr ng-repeat="customer in customers | orderBy:'Id':true">
                <td>
                    <div class="btn-toolbar" ng-show="customer.editMode == null || customer.editMode == false">
                        <div class="btn-group">
                            <i class="btn glyphicon glyphicon-edit" ng-click="toggleEditMode(customer)"></i>
                            <i class="btn glyphicon glyphicon-trash" ng-click="deleteCustomer(customer)"></i>
                        </div>
                    </div>
                    <div class="btn-toolbar" ng-show="customer.editMode == true">
                        <div class="btn-group">
                            <i class="btn glyphicon glyphicon-save" ng-click="updateCustomer(customer)"></i>
                            <i class="btn glyphicon glyphicon-remove" ng-click="toggleEditMode(customer)"></i>
                        </div>
                    </div>
                </td>

                <td>
                    <span ng-show="customer.editMode == null || customer.editMode == false">{{customer.Title}}</span>
                    <input ng-model="customer.Title" ng-show="customer.editMode == true" class="col-md-12" />
                </td>
                <td>
                    <span ng-show="customer.editMode == null || customer.editMode == false">{{customer.City.Name}}</span>
                    <select ng-model="customer.CityId" ng-options="city.Id as city.Name for city in cities" ng-show="customer.editMode == true"></select>
                </td>
                <td>
                    <span ng-show="customer.editMode == null || customer.editMode == false">{{customer.Explanation}}</span>
                    <textarea ng-model="customer.Explanation" ng-show="customer.editMode == true" class="col-md-12" />
                </td>
            </tr>
        </table>
    </div>
</div>
